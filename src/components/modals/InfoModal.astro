---
// SimpleModal.astro
---

<button
  id="modal-open-info"
  type="button"
  class="px-4 py-2 rounded-lg font-semibold text-md disabled:opacity-60 bg-indigo-800 text-gray-50 hover:bg-indigo-700 focus:outline outline-offset-2 outline-indigo-500"
  >Open Modal</button
>
<dialog
  id="modal-container-info"
  class="fixed z-50 inset-0 overflow-hidden w-screen h-screen bg-gray-500/0 backdrop:backdrop-blur-sm"
  aria-labelledby="modal-title"
  aria-modal="true">
  <div 
    class="grid items-center justify-items-center w-full pt-4 px-4 pb-20 text-center sm:p-0 text-zinc-900 dark:text-gray-50">
    <div id="modal-content-info"
      class="flex flex-col text-gray-900 dark:text-white bg-gray-50 dark:bg-zinc-900 rounded-lg text-left overflow-hidden shadow-xl sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
      <h3
        class="text-lg font-semibold  mb-4 w-full border-b border-gray-300 dark:border-zinc-700 p-4">
        Information
      </h3>
      <p class="mx-2 mb-4 text-lg px-4">This is to inform you that the current version of the app is outdated. Please update to the latest version.</p>
     

      <div class="flex flex-row w-full items-end gap-x-4 justify-end px-4 py-4 border-t border-gray-300 dark:border-zinc-700">
    
        <button
          type="button"
          class="px-4 py-2 rounded-lg font-semibold text-sm sm:text-md border border-gray-400 dark:border-zinc-700 focus:outline outline-offset-2 outline-indigo-500 text-gray-950 bg-gray-100 dark:bg-zinc-950 dark:hover:bg-zinc-900 dark:hover:border-zinc-500 dark:text-gray-50 hover:bg-white hover:border-gray-500"
          id="modal-close-info"
          >Close</button
        >
      </div>
    </div>
  </div>
</dialog>

<script>
  function modalInitilizationInfo() {
    const modal = document.getElementById(
      "modal-container-info"
    ) as HTMLDialogElement;
    const closeButton = document.getElementById(
      "modal-close-info"
    ) as HTMLButtonElement;
    const openModalButton = document.getElementById(
      "modal-open-info"
    ) as HTMLButtonElement;
    

    openModalButton.addEventListener("click", () => {
      modal.showModal();
      const modalArea= document.getElementById("modal-content-info") as HTMLDivElement;
      modal.addEventListener("click", (e) => {
        if (e.target !== modalArea) {
          modal.close();
        }
      });
    });
    // Open the modal

   

    // Close the modal when the close button is clicked
    closeButton.addEventListener("click", () => {
      modal.close();
    });
  }
  document.addEventListener("astro:before-swap", modalInitilizationInfo);
  document.addEventListener("astro:page-load", modalInitilizationInfo);
</script>
