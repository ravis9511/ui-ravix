---
interface Props {
  type: string;
  message: string;
  showIcon: boolean;
  prominent: boolean;
}

const { type, message, showIcon, prominent } = Astro.props;
---

<div
  class={`rounded-lg p-4 my-2 text-base md:text-lg 
    ${type === "info" ? `${prominent ? "bg-blue-800 dark:bg-blue-900 text-white " : "bg-blue-200 dark:bg-blue-950 text-blue-950 dark:text-white"}` : ""}
    ${type === "success" ? `${prominent ? "bg-green-800 dark:bg-green-900 text-white " : "bg-green-200 dark:bg-green-950 text-green-950 dark:text-white"}` : ""}
    ${type === "warning" ? `${prominent ? "bg-yellow-400 dark:bg-yellow-500 text-black " : "bg-yellow-200 dark:bg-yellow-700/50 text-black dark:text-white"}` : ""}
    ${type === "error" ? `${prominent ? "bg-red-800 dark:bg-red-900 text-white " : "bg-red-300 dark:bg-red-950 text-black dark:text-white"}` : ""}
    ${["info", "success", "warning", "error"].includes(type) ? "" : "bg-indigo-200 dark:bg-indigo-950/80 text-indigo-950 dark:text-white"}
        `}
  role={["info", "success", "warning", "error"].includes(type)
    ? "alert"
    : "note"}>
  <div class="flex flex-row items-center">
    {
      showIcon && type === "info" && (
        <>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            aria-hidden="true"
            class={`mr-3 shrink-0  ${prominent ? "text-white" : "text-blue-800 dark:text-blue-300"}`}>
            <path
              fill="currentColor"
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"
            />
          </svg>
          <span class="sr-only">Information :</span>
        </>
      )
    }
    {
      showIcon && type === "success" && (
        <>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            aria-hidden="true"
            class={`mr-3 shrink-0 ${prominent ? "text-white" : "text-green-800 dark:text-green-300"}`}>
            <path
              fill="currentColor"
              d="M9 16.2L4.8 12l-1.4 1.4L9 19L21 7l-1.4-1.4z"
            />
          </svg>
          <span class="sr-only">Success :</span>
        </>
      )
    }
    {
      showIcon && type === "warning" && (
        <>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            aria-hidden="true"
            class={`mr-3 shrink-0 ${prominent ? "text-black" : "text-yellow-600 dark:text-yellow-300"}`}>
            <path
              fill="currentColor"
              d="M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"
            />
          </svg>
          <span class="sr-only">Warning :</span>
        </>
      )
    }
    {
      showIcon && type === "error" && (
        <>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            aria-hidden="true"
            class={`mr-3 shrink-0 ${prominent ? "text-white" : "text-red-800 dark:text-red-300"}`}>
            <path
              fill="currentColor"
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"
            />
          </svg>
          <span class="sr-only">Error :</span>
        </>
      )
    }
    {
      showIcon && !["info", "success", "warning", "error"].includes(type) && (
        <>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            aria-hidden="true"
            class="mr-3 shrink-0 text-indigo-800 dark:text-indigo-300">
            <path
              fill="currentColor"
              d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75s-.75-.34-.75-.75s.34-.75.75-.75M9.1 17H7v-2.14l5.96-5.96l2.12 2.12zm7.75-7.73l-1.06 1.06l-2.12-2.12l1.06-1.06c.2-.2.51-.2.71 0l1.41 1.41c.2.2.2.51 0 .71"
            />
          </svg>
          <span class="sr-only">{type} :</span>
        </>
      )
    }
    {
      !showIcon && (
        <span class={`font-bold mr-3 ${prominent ? "text-white" : ""}`}>
          {type.charAt(0).toUpperCase() + type.slice(1)}:
        </span>
      )
    }
    {message}
  </div>
</div>
